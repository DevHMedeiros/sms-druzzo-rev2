<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DS Comandos</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div id="notification" class="notification"></div>

    <header class="main-header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-satellite-dish"></i>
                    <h1>DS Comandos</h1>
                </div>
                <div class="header-info">
                    <span id="credit-balance" class="status-badge"><i class="fas fa-wallet"></i> Carregando...</span>
                    <span class="status-badge online"><i class="fas fa-circle"></i> Sistema Online</span>
                </div>
            </div>
        </div>
    </header>

    <main class="main-content">
        <div class="container">
            <div class="content-grid">
                
                <section class="forms-section">
                    
                    <div class="card primary-card">
                        <div class="card-header">
                            <div class="card-title"><i class="fas fa-paper-plane"></i><h2>Enviar Comando SMS</h2></div>
                            <p class="card-subtitle">Envie comandos para um ou múltiplos rastreadores</p>
                        </div>
                        
                        <form id="sms-form" class="form">
                            <div class="form-group">
                                <label for="phone-numbers"><i class="fas fa-mobile-alt"></i> Números (um por linha)</label>
                                <textarea id="phone-numbers" rows="5" placeholder="5511999999999&#10;5521888888888" required></textarea>
                            </div>
                            <div class="form-group">
                                <label for="device-model"><i class="fas fa-microchip"></i> Modelo do Equipamento</label>
                                <select id="device-model" required><option value="">Selecione o modelo...</option></select>
                            </div>
                            <div class="form-group">
                                <label for="message-text"><i class="fas fa-terminal"></i> Comando</label>
                                <input type="text" id="message-text" list="commands-list" placeholder="Digite ou selecione um comando..." required>
                                <datalist id="commands-list"></datalist>
                                <small class="help-text"><i class="fas fa-info-circle"></i> Os comandos são filtrados pelo modelo selecionado</small>
                            </div>
                            <button type="submit" id="send-btn" class="btn btn-primary"><i class="fas fa-rocket"></i><span>Enviar Comando(s)</span></button>
                        </form>
                    </div>

                    <div class="card secondary-card">
                        <div class="card-header"><div class="card-title"><i class="fas fa-cogs"></i><h3>Gerenciar Equipamentos</h3></div></div>
                        <div class="management-section">
                            <h4><i class="fas fa-plus-circle"></i> Novo Modelo</h4>
                            <form id="new-model-form" class="form compact-form">
                                <div class="form-group"><input type="text" id="new-model-name" placeholder="Nome do modelo (ex: TK103)" required></div>
                                <button type="submit" class="btn btn-secondary"><i class="fas fa-plus"></i> Adicionar</button>
                            </form>
                        </div>
                        
                        <div class="divider"></div>
                        <div class="management-section">
                            <h4><i class="fas fa-list-ul"></i> Modelos Cadastrados</h4>
                            <div id="models-list" class="management-list"></div>
                        </div>

                        <div class="divider"></div>
                        <div class="management-section">
                            <h4><i class="fas fa-code"></i> Novo Comando</h4>
                            <form id="new-command-form" class="form compact-form">
                                <div class="form-group"><select id="command-model-select" required><option value="">Selecione o modelo...</option></select></div>
                                <div class="form-group"><input type="text" id="new-command-text" placeholder="Comando (ex: RESET123456)" required></div>
                                <button type="submit" class="btn btn-secondary"><i class="fas fa-plus"></i> Adicionar</button>
                            </form>
                        </div>
                    </div>
                </section>

                <section class="info-section">
                    <div class="card info-card">
                        <div class="card-header"><div class="card-title"><i class="fas fa-list-ul"></i><h3>Comandos Disponíveis</h3></div></div>
                        <div id="commands-display" class="commands-container">
                            <div class="empty-state"><i class="fas fa-arrow-left"></i><p>Selecione um modelo para visualizar os comandos</p></div>
                        </div>
                    </div>
                    <div class="card history-card">
                        <div class="card-header"><div class="card-title"><i class="fas fa-history"></i><h3>Histórico de Envios</h3></div></div>
                        <div class="table-container">
                            <table id="history-table" class="data-table">
                                <thead>
                                    <tr>
                                        <th><i class="fas fa-phone"></i> Número</th>
                                        <th><i class="fas fa-microchip"></i> Modelo</th>
                                        <th><i class="fas fa-terminal"></i> Comando</th>
                                        <th><i class="fas fa-info-circle"></i> Detalhes</th>
                                        <th><i class="fas fa-clock"></i> Data/Hora</th>
                                        <th><i class="fas fa-check-circle"></i> Status</th>
                                    </tr>
                                </thead>
                                <tbody id="history-body"></tbody>
                            </table>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header"><div class="card-title"><i class="fas fa-file-pdf"></i><h3>Relatórios e Navegação</h3></div></div>
                        <div class="reports-and-pagination">
                            <div class="pagination-controls" id="pagination-controls"></div>
                            <div class="download-section">
                                <select id="pdf-period" class="form-group">
                                    <option value="day">Últimas 24h</option>
                                    <option value="week">Últimos 7 dias</option>
                                    <option value="fortnight">Últimos 15 dias</option>
                                    <option value="month">Último mês</option>
                                </select>
                                <button id="download-pdf-btn" class="btn btn-secondary">Baixar PDF</button>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </main>

    <div id="edit-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Editar Comando</h3>
                <button id="close-modal-btn" class="btn-icon">&times;</button>
            </div>
            <form id="edit-command-form" class="form">
                <input type="hidden" id="edit-command-id">
                <div class="form-group">
                    <label for="edit-command-text">Comando</label>
                    <input type="text" id="edit-command-text" required>
                </div>
                <div class="form-group">
                    <label for="edit-command-description">Descrição</label>
                    <input type="text" id="edit-command-description" placeholder="O que este comando faz?">
                </div>
                <button type="submit" class="btn btn-primary">Salvar Alterações</button>
            </form>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>